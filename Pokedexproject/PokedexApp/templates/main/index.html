<!DOCTYPE html>
<html lang="es">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}" crossorigin="anonymous"/>
    <link rel="icon" href="{% static 'img/pokeball-icon.ico' %}">
    <title>Pokédex</title>
</head>
<body>
    <h1>Entrenador Dario Linan Marquez</h1> 
    <!-- Imagen de cabecera -->
    <img src="{% static 'img/pokedex.png' %}" class="image" style="width:200px;" alt="Pokédex">

    <form method="post">
        {% csrf_token %}
        <input type="text" name="pokemon" placeholder="Busca tu Pokémon por nombre o ID..." value="{{ query|default:'' }}">
        <button type="submit">Buscar</button>

        <input type="hidden" name="current_id" value="{{ numero|default:'' }}">

        <div class="nav-buttons" style="display:inline-block; margin-left:1rem;">
            <button type="submit" name="action" value="prev" {% if not numero %}disabled{% endif %}>◀ Anterior</button>
            <button type="submit" name="action" value="next" {% if not numero %}disabled{% endif %}>Siguiente ▶</button>
        </div>

    </form>

        {% if error %}
            <h2 class="error">{{ error }}</h2>
        {% endif %}

    
        {% if numero and nombre %}
            <h2>Número: {{ numero }}</h2>
            <h2>Nombre: {{ nombre }}</h2>
            <h2>Altura: {{ altura }}</h2>
            <h2>Peso: {{ peso }}</h2>
        <h2>
        {% if tipos %}
            <p>Tipo{% if tipos|length > 1 %}s{% endif %}:
             <span class="type-badges">
              {% for t in tipos %}
                <span class="type-badge">{{ t }}</span>{% if not forloop.last %}{% endif %}
              {% endfor %}
             </span>
            </p>
        {% endif %}
        </h2>


            <!-- Ilustración HD con fallback al sprite clásico -->
            
            <img src="{{ artwork|default:sprite }}" alt="Ilustración oficial de {{ nombre }}" class="pokemon-artwork">
        {% else %}
            <div>
                <h2>Escribe el nombre o ID de tu Pokémon.</h2>
            </div>
        {% endif %}
    
</body>
</html>
